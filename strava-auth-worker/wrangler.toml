name = "strava-auth-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV Namespace for storing OAuth tokens
[[kv_namespaces]]
binding = "STRAVA_TOKENS"
id = "YOUR_KV_NAMESPACE_ID"

# Environment variables (non-sensitive)
[vars]
ALLOWED_ORIGIN = "http://localhost:5173"
STRAVA_CLIENT_ID = "YOUR_STRAVA_CLIENT_ID"

# Secrets (set via wrangler secret put)
# STRAVA_CLIENT_SECRET = "your_secret_here"

# Development environment
[env.dev]
vars = { ALLOWED_ORIGIN = "http://localhost:5173" }

# Production environment
[env.production]
vars = { ALLOWED_ORIGIN = "https://your-trainer-loop-domain.com" }
