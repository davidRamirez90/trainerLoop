name = "strava-auth-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV Namespace for storing OAuth tokens
[[kv_namespaces]]
binding = "STRAVA_TOKENS"
id = "8ec2d06439cd4552970bbe33b1626511"

# Environment variables (non-sensitive)
[vars]
ALLOWED_ORIGIN = "https://trainerloop.pages.dev"
STRAVA_CLIENT_ID = "48864"

# Secrets (set via wrangler secret put)
# STRAVA_CLIENT_SECRET = "your_secret_here"

# Development environment
[env.dev]
vars = { ALLOWED_ORIGIN = "http://localhost:5173" }

# Production environment
[env.production]
vars = { ALLOWED_ORIGIN = "https://your-trainer-loop-domain.com" }
